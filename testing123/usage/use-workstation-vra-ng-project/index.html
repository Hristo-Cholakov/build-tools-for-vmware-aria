
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../use-workstation-cs-project/">
      
      
        <link rel="next" href="../use-workstation-vra-project/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.3">
    
    
      
        <title>vRA NG Projects - Build Tools for Aria Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.c4a75a56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vra-ng-projects" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Build Tools for Aria Docs" class="md-header__button md-logo" aria-label="Build Tools for Aria Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Build Tools for Aria Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              vRA NG Projects
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Dark Mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Dark Mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Light Mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Light Mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/vmware/build-tools-for-vmware-aria" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/0.structure/" class="md-tabs__link">
        Setting Started
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../use-bundle-installer/" class="md-tabs__link md-tabs__link--active">
        Usage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../dev-setup/0.structure/" class="md-tabs__link">
        Dev Setup
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../enterprise-setup/0.structure/" class="md-tabs__link">
        Enterprise Setup
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../CHANGELOG/" class="md-tabs__link">
      Changelog
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Build Tools for Aria Docs" class="md-nav__button md-logo" aria-label="Build Tools for Aria Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Build Tools for Aria Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vmware/build-tools-for-vmware-aria" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Setting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/0.structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-bundle-installer/" class="md-nav__link">
        Bundle Installer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-license-plugin/" class="md-nav__link">
        License plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-abx-project/" class="md-nav__link">
        ABX Projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-cs-project/" class="md-nav__link">
        Code Stream Projects
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          vRA NG Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        vRA NG Projects
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-new-vra-ng-project" class="md-nav__link">
    Create New vRA NG Project
  </a>
  
    <nav class="md-nav" aria-label="Create New vRA NG Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-rules-for-content-types" class="md-nav__link">
    Export Rules for content types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-regional-content" class="md-nav__link">
    Exporting regional content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-all-content-in-all-regions-linked-to-cloud-accounts-with-given-tag" class="md-nav__link">
    Export all content in all regions linked to cloud accounts with given tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull" class="md-nav__link">
    Pull
  </a>
  
    <nav class="md-nav" aria-label="Pull">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-cloud-using-refresh-token-for-authentication" class="md-nav__link">
    Example profile for vRA Cloud using refresh token for authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-refresh-token-for-authentication" class="md-nav__link">
    Example profile for vRA On-Prem using refresh token for authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth" class="md-nav__link">
    Example profile for vRA On-Prem using username and password for authentication (basic auth)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth-and-with-data-collection-timeout-on-import" class="md-nav__link">
    Example profile for vRA On-Prem using username and password for authentication (basic auth) and with data collection timeout on import
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    Push
  </a>
  
    <nav class="md-nav" aria-label="Push">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blueprint-versioning" class="md-nav__link">
    Blueprint versioning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regional-content" class="md-nav__link">
    Regional Content
  </a>
  
    <nav class="md-nav" aria-label="Regional Content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-regional-content" class="md-nav__link">
    Export Regional Content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-regional-content" class="md-nav__link">
    Import Regional Content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#release" class="md-nav__link">
    Release
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-dependencies" class="md-nav__link">
    Include Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Include Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ignore-certificate-errors-not-recommended" class="md-nav__link">
    Ignore Certificate Errors (Not recommended)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundling" class="md-nav__link">
    Bundling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-up" class="md-nav__link">
    Clean Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-issues" class="md-nav__link">
    Known issues:
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-vra-project/" class="md-nav__link">
        vRA Projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-vrli-project/" class="md-nav__link">
        VRLI Projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-vro-project/" class="md-nav__link">
        vRO Projects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../use-workstation-vrops-project/" class="md-nav__link">
        vROps Projects
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Dev Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Dev Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev-setup/0.structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev-setup/tagged/" class="md-nav__link">
        Tagged Page
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Enterprise Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Enterprise Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../enterprise-setup/0.structure/" class="md-nav__link">
        Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../enterprise-setup/tagged/" class="md-nav__link">
        Tagged Page
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    Use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-new-vra-ng-project" class="md-nav__link">
    Create New vRA NG Project
  </a>
  
    <nav class="md-nav" aria-label="Create New vRA NG Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-rules-for-content-types" class="md-nav__link">
    Export Rules for content types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-regional-content" class="md-nav__link">
    Exporting regional content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-all-content-in-all-regions-linked-to-cloud-accounts-with-given-tag" class="md-nav__link">
    Export all content in all regions linked to cloud accounts with given tag
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull" class="md-nav__link">
    Pull
  </a>
  
    <nav class="md-nav" aria-label="Pull">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-cloud-using-refresh-token-for-authentication" class="md-nav__link">
    Example profile for vRA Cloud using refresh token for authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-refresh-token-for-authentication" class="md-nav__link">
    Example profile for vRA On-Prem using refresh token for authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth" class="md-nav__link">
    Example profile for vRA On-Prem using username and password for authentication (basic auth)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth-and-with-data-collection-timeout-on-import" class="md-nav__link">
    Example profile for vRA On-Prem using username and password for authentication (basic auth) and with data collection timeout on import
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#push" class="md-nav__link">
    Push
  </a>
  
    <nav class="md-nav" aria-label="Push">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blueprint-versioning" class="md-nav__link">
    Blueprint versioning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regional-content" class="md-nav__link">
    Regional Content
  </a>
  
    <nav class="md-nav" aria-label="Regional Content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export-regional-content" class="md-nav__link">
    Export Regional Content
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-regional-content" class="md-nav__link">
    Import Regional Content
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#release" class="md-nav__link">
    Release
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    Authentication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include-dependencies" class="md-nav__link">
    Include Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Include Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ignore-certificate-errors-not-recommended" class="md-nav__link">
    Ignore Certificate Errors (Not recommended)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundling" class="md-nav__link">
    Bundling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-up" class="md-nav__link">
    Clean Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-issues" class="md-nav__link">
    Known issues:
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<h1 id="vra-ng-projects">vRA NG Projects</h1>
<p>Before you continue with this section validate that all of the prerequisites are met.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Install and Configure <a href="setup-workstation-maven.md">Build Tools for VMware Aria System</a></li>
</ul>
<h2 id="use">Use</h2>
<p>vRA NG Project is a filesystem representation of vRA NG content into human friendly YAML and/or JSON format. The project consist of content descriptor and content container.</p>
<ul>
<li><em>Content Descriptor</em> defines what part vRA NG content will be part of this project.</li>
<li><em>Content Container</em> holds the actual content representation.</li>
</ul>
<h2 id="create-new-vra-ng-project">Create New vRA NG Project</h2>
<p><strong>Build Tools for VMware Aria</strong> provides ready to use project templates (<em>maven archetypes</em>).</p>
<p>To create a new vRA project from archetype use the following command:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>archetype:generate<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DinteractiveMode<span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DarchetypeGroupId<span class="o">=</span>com.vmware.pscoe.vra-ng.archetypes<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DarchetypeArtifactId<span class="o">=</span>package-vra-ng-archetype<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DarchetypeVersion<span class="o">=</span>&lt;iac_for_vrealize_version&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DgroupId<span class="o">=</span>local.corp.it.cloud<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DartifactId<span class="o">=</span>catalog
</code></pre></div>
<p><strong>Note</strong>: <em>The specified <iac_for_vrealize_version> should be minimum 2.4.11</em></p>
<p>The result of this command will produce the following project file structure:</p>
<div class="highlight"><pre><span></span><code>catalog
├── README.md
├── content.yaml
├── pom.xml
├── release.sh
└── src
    └── main
        └── blueprints
            └── blueprint.yaml
        └── content-sources
            └── source.json
        └── property-group
            └── property_group_name.json
        └── catalog-items
            └── forms
                └── source name__workflow one name with custom form.json
                └── source name__workflow one name with custom form__FormData.json
                └── source name__workflow three name with custom icon and form.json
                └── source name__workflow three name with custom icon and form__FormData.json
            └── icons
                └── source name__workflow two name with custom icon.png
                └── source name__workflow three name with custom icon and form.png
            └── source name__workflow one name with custom form.json
            └── source name__workflow two name with custom icon.json
            └── source name__workflow three name with custom icon and form.json
        └── entitlements
            └── Blueprint.yaml
            └── Workflow.yaml
            └── ABX Action.yaml       
        └── subscriptions
            └── subscription.json
        └── regions
            └── cloud-account-name~region-id
                └── flavor-mappings
                    └── small.json
                └── image-mappings
                    └── mapping.json
                └── storage-profiles
                    └── profile.json
                └── src-region-profile.json
        └── custom-resources
            └── customResource.json
        └── resource-actions
            └── resourceAction.json
</code></pre></div>
<p>Content Descriptor is implemented by content.yaml file with the following defaults.</p>
<p><strong>Note</strong>: <em>vRA NG Project supports only content types outlined into content descriptor.</em></p>
<h3 id="export-rules-for-content-types">Export Rules for content types</h3>
<p>Empty array [] - nothing is exported
List of items - the given items are exported.
Null (nothing given) - everything is being exported
* blueprints
* catalog-item
* content-source
* custom-resource
* catalog-entitlement
* property-group
* subscription</p>
<h3 id="exporting-regional-content">Exporting regional content</h3>
<p>To export regional content, cloud account(s) with given tag(s) should be given.
Empty array [] - nothing is exported 
List of items - the given items are exported in all regions linked to cloud accounts with given tag 
Null (nothing given) - everything is being exported in all regions linked to cloud accounts with given tag 
* flavor-mapping
* image-mapping
* storage-profile</p>
<h3 id="export-all-content-in-all-regions-linked-to-cloud-accounts-with-given-tag">Export all content in all regions linked to cloud accounts with given tag</h3>
<p>To export all content in all regions linked to cloud accounts, the tag for export should be defined.
If not defined, nothing will be exported.</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="c1"># Example describes export of: </span>
<span class="c1">#   Flavor mappings with names &quot;small&quot; and &quot;medium&quot; in all regions linked to cloud accounts with tag &quot;env:dev&quot;</span>
<span class="c1"># Export Rules for all content types:</span>
<span class="c1">#   flavor-mapping: []     - nothing will be exported</span>
<span class="c1">#   flavor-mapping: </span>
<span class="c1">#        - small&quot;</span>
<span class="c1">#        - meduim</span>
<span class="c1">#                          - only &quot;small&quot; and &quot;meduim&quot; will be exported </span>
<span class="c1">#   flavor-mapping:        - everything will be exported in all regions linked to cloud accounts with tag &quot;env:dev&quot;</span>
<span class="c1">#</span>
<span class="c1">#   </span>
<span class="c1"># Example describes import of:</span>
<span class="c1">#   All blueprints in src/blueprints</span>
<span class="c1">#   All subscriptions in src/blueprints</span>
<span class="c1">#   All flavor mappings in regions/ into regions linked to cloud accounts with tags &quot;env:dev&quot; or &quot;env:test&quot;</span>
<span class="c1"># Example vra workflow catalog items ( Check notes down further on naming conventions )</span>
<span class="c1"># catalog-item:</span>
<span class="c1">#   - Content Source__Catalog Item 1</span>
<span class="c1">#   - Content Source__Catalog Item 2</span>
<span class="c1"># Example blueprints:</span>
<span class="c1"># blueprint:</span>
<span class="c1">#  - blueprint 1</span>
<span class="c1">#  - bluepring 2</span>
<span class="c1">#  - bluepring 3</span>
<span class="c1"># Example property groups::</span>
<span class="c1"># property-group:</span>
<span class="c1">#  - memory</span>
<span class="c1">#  - compute</span>
<span class="c1"># Example subscriptions:</span>
<span class="c1"># subscription:</span>
<span class="c1">#  - subscription 1</span>
<span class="c1">#  - subscription 2</span>
<span class="c1">#  - subscription 3</span>

<span class="nt">blueprint</span><span class="p">:</span>
<span class="nt">subscription</span><span class="p">:</span>
<span class="nt">flavor-mapping</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">small</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">medium</span>
<span class="nt">image-mapping</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">storage-profile</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">region-mapping</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cloud-account-tags</span><span class="p">:</span>
<span class="w">    </span><span class="nt">export-tag</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;env:dev&quot;</span>
<span class="w">    </span><span class="nt">import-tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;env:dev&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;env:test&quot;</span><span class="p p-Indicator">]</span>
<span class="nt">catalog-item</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project Blueprints__WindowsVM</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project Blueprints__LinuxVm</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Main Workflows__ConfigureVM</span>
<span class="nt">custom-resource</span><span class="p">:</span>
<span class="nt">resource-action</span><span class="p">:</span>
<span class="nt">property-group</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">memory</span>
<span class="nt">catalog-entitlement</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Content source entitlement</span>
<span class="nt">content-source</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project Blueprints</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Main Workflows</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Utility Workflows</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project Abx Actions</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Project Code Stream pipelines</span>
</code></pre></div>
<p><strong>Note</strong>: <em>Unreleased blueprints that have custom form will be automatically released with version 1.</em></p>
<p>To capture the state of your vRA NG environment simply fill in the names of the content objects you would like to capture and look at the Pull section of this document.</p>
<p>To import / export custom forms and/or icons you have to specify the associated catalog-item name in <code>catalog-item</code> tag. The naming convention for this is SOURCE_NAME__CATALOG_ITEM_NAME
The integration end point data for each workflow that is associated with the content source will be updated as well with the one fetched from the VRA server. </p>
<h2 id="building">Building</h2>
<p>You can build any vRA NG project from sources using Maven:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>clean<span class="w"> </span>package
</code></pre></div>
<p>This will produce a vRA NG package with the groupId, artifactId and version specified in the pom. For example:</p>
<p><div class="highlight"><pre><span></span><code><span class="nt">&lt;groupId&gt;</span>local.corp.it.cloud<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>catalog<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;packaging&gt;</span>vra-ng<span class="nt">&lt;/packaging&gt;</span>
</code></pre></div>
will result in <strong>local.corp.it.cloud.catalog-1.0.0-SNAPSHOT.vra-ng</strong> generated in the target folder of your project.</p>
<h2 id="pull">Pull</h2>
<p>When working on a vRA NG project, you mainly make changes on a live server using the vRA NG Console and then you need to capture those changes in the maven project on your filesystem.</p>
<p>To support this use case, the toolchain comes with a custom goal "vra-ng:pull". The following command will "pull" the content outlined into <em>Content Descriptor</em> file to the current project from a specified server and expand its content in the local filesystem overriding any local content:</p>
<p><div class="highlight"><pre><span></span><code>vra-ng:pull<span class="w"> </span>-Dvrang.host<span class="o">=</span>api.mgmt.cloud.vmware.com<span class="w"> </span>-Dvrang.csp.host<span class="o">=</span>console.cloud.vmware.com<span class="w"> </span>-Dvra.port<span class="o">=</span><span class="m">443</span><span class="w"> </span>-Dvrang.project.id<span class="o">={</span>project+id<span class="o">}</span><span class="w"> </span>-Dvrang.refresh.token<span class="o">={</span>refresh+token<span class="o">}</span>
</code></pre></div>
A better approach is to have the different vRO/vRA development environments specified as profiles in the local
settings.xml file by adding the following snippet under "profiles":</p>
<h3 id="example-profile-for-vra-cloud-using-refresh-token-for-authentication">Example profile for vRA Cloud using refresh token for authentication</h3>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>corp-dev<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;properties&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--vRA NG Connection--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.host&gt;</span>api.mgmt.cloud.vmware.com<span class="nt">&lt;/vrang.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.csp.host&gt;</span>console.cloud.vmware.com<span class="nt">&lt;/vrang.csp.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.proxy&gt;</span>http://proxy.host:80<span class="nt">&lt;/vrang.proxy&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.port&gt;</span>443<span class="nt">&lt;/vrang.port&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.project.id&gt;</span>{project+id}<span class="nt">&lt;/vrang.project.id&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- &lt;vrang.project.name&gt;{project+name}&lt;/vrang.project.name&gt; --&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.id&gt;</span>{org+id}<span class="nt">&lt;/vrang.org.id&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.name&gt;</span>{org+name}<span class="nt">&lt;/vrang.org.name&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.refresh.token&gt;</span>{refresh+token}<span class="nt">&lt;/vrang.refresh.token&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.release&gt;</span>true<span class="nt">&lt;/vrang.bp.release&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.vro.integration&gt;</span>{vro+integration+name}<span class="nt">&lt;/vrang.vro.integration&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.ignore.versions&gt;</span>true|false<span class="nt">&lt;/bp.ignore.versions&gt;</span>
<span class="w">    </span><span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/profile&gt;</span>
</code></pre></div>
<h3 id="example-profile-for-vra-on-prem-using-refresh-token-for-authentication">Example profile for vRA On-Prem using refresh token for authentication</h3>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>corp-dev<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;properties&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--vRA NG Connection--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.host&gt;</span>vra-l-01a.corp.local<span class="nt">&lt;/vrang.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.port&gt;</span>443<span class="nt">&lt;/vrang.port&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.project.name&gt;</span>{project+name}<span class="nt">&lt;/vrang.project.name&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.id&gt;</span>{org+id}<span class="nt">&lt;/vrang.org.id&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.name&gt;</span>{org+name}<span class="nt">&lt;/vrang.org.name&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.refresh.token&gt;</span>{refresh+token}<span class="nt">&lt;/vrang.refresh.token&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.release&gt;</span>true<span class="nt">&lt;/vrang.bp.release&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.ignore.versions&gt;</span>true|false<span class="nt">&lt;/bp.ignore.versions&gt;</span>
<span class="w">    </span><span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/profile&gt;</span>
</code></pre></div>
<h3 id="example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth">Example profile for vRA On-Prem using username and password for authentication (basic auth)</h3>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>corp-dev<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;properties&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--vRA NG Connection--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.host&gt;</span>vra-l-01a.corp.local<span class="nt">&lt;/vrang.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.port&gt;</span>443<span class="nt">&lt;/vrang.port&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.username&gt;</span>{username}<span class="nt">&lt;/vrang.username&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.password&gt;</span>{password}<span class="nt">&lt;/vrang.password&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--The id of maven element containing the encrypted password and username--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.serverId&gt;</span>${serverid}<span class="nt">&lt;/vrang.serverId&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.project.id&gt;</span>{project+id}<span class="nt">&lt;/vrang.project.id&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- &lt;vrang.project.name&gt;{project+name}&lt;/vrang.project.name&gt; --&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.id&gt;</span>{org+id}<span class="nt">&lt;/vrang.org.id&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.name&gt;</span>{org+name}<span class="nt">&lt;/vrang.org.name&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.release&gt;</span>true<span class="nt">&lt;/vrang.bp.release&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.vro.integration&gt;</span>{vro+integration+name}<span class="nt">&lt;/vrang.vro.integration&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.ignore.versions&gt;</span>true|false<span class="nt">&lt;/bp.ignore.versions&gt;</span>
<span class="w">    </span><span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/profile&gt;</span>
</code></pre></div>
<h3 id="example-profile-for-vra-on-prem-using-username-and-password-for-authentication-basic-auth-and-with-data-collection-timeout-on-import">Example profile for vRA On-Prem using username and password for authentication (basic auth) and with data collection timeout on import</h3>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>corp-dev<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;properties&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--vRA NG Connection--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.host&gt;</span>vra-l-01a.corp.local<span class="nt">&lt;/vrang.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.port&gt;</span>443<span class="nt">&lt;/vrang.port&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.username&gt;</span>{username}<span class="nt">&lt;/vrang.username&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.password&gt;</span>{password}<span class="nt">&lt;/vrang.password&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.project.id&gt;</span>{project+id}<span class="nt">&lt;/vrang.project.id&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- &lt;vrang.project.name&gt;{project+name}&lt;/vrang.project.name&gt; --&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.id&gt;</span>{org+id}<span class="nt">&lt;/vrang.org.id&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.org.name&gt;</span>{org+name}<span class="nt">&lt;/vrang.org.name&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.release&gt;</span>true<span class="nt">&lt;/vrang.bp.release&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.vro.integration&gt;</span>{vro+integration+name}<span class="nt">&lt;/vrang.vro.integration&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.data.collection.delay.seconds&gt;</span>{vro+data+collection+delay+seconds}<span class="nt">&lt;/vrang.data.collection.delay.seconds&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrang.bp.ignore.versions&gt;</span>true|false<span class="nt">&lt;/bp.ignore.versions&gt;</span>
<span class="w">    </span><span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/profile&gt;</span>
</code></pre></div>
<p>Then, you can sync content back to your local sources by simply activating the profile:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>vra-ng:pull<span class="w"> </span>-Pcorp-env
</code></pre></div>
<blockquote>
<p>Note that <code>vra-ng:pull</code> will fail if the content.yaml is empty, or it cannot find some described content on the target vRA server.</p>
</blockquote>
<p><strong>Note</strong>: <em>As seen by the examples, you can specify project name or project id in the settings.xml or as command line
 parameters. At least one of those parameters must be present in the configuration. If you define both, project id takes
 precedence over project name. If you define only project name, the solution will search for a project with that name
 and use it for the content operations.</em></p>
<p><strong>Note</strong>: <em>When pushing property groups, the project ID specified in the configuration will be used to update the payload sent while creating/updating them in vRA.</em></p>
<p><strong>Note</strong>: <em>Check the </em><em>Authentication</em><em> section of this document for details on possible authentication methods.</em></p>
<p><strong>Note</strong>: <em>If a catalog item has a custom form and/or an icon they will be exported in subdirs of the catalog-items directory</em></p>
<p><strong>Note</strong>: <em>If no catalog entitlements are specified, all of the available entitlements will be exported.</em></p>
<p><strong>Note</strong>: <em>If catalog entitlement has a projectId in its configuration it will override the one specified in settings.xml during push of the entitlement on the target system.</em></p>
<p><strong>Note</strong>: <em>In the catalog entitlement yaml file you can specify also project name using the projectName tag instead of projectId.</em></p>
<p><strong>Note</strong>: The value of the <vrang.org.name> tag will take precedence over the value of the <vrang.org.id> tag in case both are present (either trough settings.xml or Installer) during filtering of the cloud accounts during pull action.</p>
<p><strong>Note</strong>: The value of the <vrang.vro.integration> is used to change the integration endpoint of Workflow Content Sources and other resources that point to that type of integration. If the property is missing a default name "embedded-VRO" will be used.</p>
<ul>
<li><code>bp.ignore.versions</code> - ignores blueprint versioning  (refer to the <em>Blueprint Versioning</em> section 
below). This option defaults to <code>false</code>. When dealing with blueprint development, you might want to set this to <code>true</code>
in order to avoid unnecessary blueprint versions.</li>
</ul>
<h2 id="push">Push</h2>
<p>To deploy the code developed in the local project or checked out from source control to a live server, you can use
the <code>vrealize:push</code> command:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>package<span class="w"> </span>vrealize:push<span class="w"> </span>-Pcorp-env
</code></pre></div>
<p>This will build the package and deploy it to the environment described in the <code>corp-env</code> profile. There are a few
additional options:</p>
<ul>
<li>
<p><code>vrang.bp.release</code> - create a new version for already released blueprint (refer to the <em>Blueprint Versioning</em> section 
below). This option defaults to <code>true</code>. When dealing with blueprint development, you might want to set this to <code>false</code>
in order to avoid unnecessary blueprint versions.</p>
</li>
<li>
<p><code>vrang.data.collection.delay.seconds</code> - Delay in seconds to wait for vRA data collection to pass before importing data. Can also be passed
as an interactive parameter <code>-Dvrang.data.collection.delay.seconds=600</code>. useful when Dynamic types and custom resources are used in the projects and vRO content is imported,
however vRA needs to then retrieve it in order to be able to create the custom Resource and use the Create/Delete Workflows.
This only happens after a short delay and the vRA data collector scrapes vRO. Defaults to no delay.</p>
</li>
</ul>
<p><strong>Note</strong>: **If there are any custom forms or icons associated with a catalog-item they will also be imported. </p>
<p><strong>Note</strong>: <em>If there are custom forms in the custom-forms directory that are associated with workflows, they will be imported to the VRA server as well.</em></p>
<p><strong>Note</strong>: <em>If there are custom forms in the custom-forms directory that are associated with workflows, the content-sources that are associated with them will be imported as well (they will be read from the content-sources directory).</em></p>
<h3 id="blueprint-versioning">Blueprint versioning</h3>
<p>When pushing a blueprint to a vRA server that contains previously released blueprint with the same name as the one
being pushed, a new version will be created and released in order to maintain the intended state. 
A new version will  <em>not</em> be created if the content of the blueprint has not been modified since the latest released 
version in order to avoid unnecessary versioning.</p>
<p>If there's a custom form associated with the blueprint being imported and there's no previously released version, 
an initial blueprint version (1) will be created and released in order to import the custom form.</p>
<p>When creating a new version in the above-described cases, the new version will be auto-generated based on the latest
version of the blueprint. The following version formats are supported with their respective incrementing rules:</p>
<table>
<thead>
<tr>
<th>Latest version</th>
<th>New version</th>
<th>Incrementing rules</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>Increment major version</td>
</tr>
<tr>
<td>1.0</td>
<td>1.1</td>
<td>Major and minor version - increment the minor</td>
</tr>
<tr>
<td>1.0.0</td>
<td>1.0.1</td>
<td>Major, minor and patch version - incrementing the patch</td>
</tr>
<tr>
<td>1.0.0-alpha</td>
<td>2020-05-27-10-10-43</td>
<td>Arbitrary version - generate a new date-time based version</td>
</tr>
</tbody>
</table>
<h2 id="regional-content">Regional Content</h2>
<p>The vRA 8.x philosophy is built around the concept of infrastructure definition capable of resource provisioning - 
compute, network, storage and other types of resources - that builds up an abstract model for resource description.
This allows workload placement to happen dynamically based on various explicit or implicit rules. Part of this abstract
model is the definition of various mappings and profiles that provide common higher-level definitions of underlying 
infrastructure objects. These definitions take the form of various mappings and profiles:
* flavor mappings - common designation of compute resource t-shirt or other sizing
* image mappings - common designation of VM images
* storage profiles - a set of storage policies and configurations used for workload placement
* network profiles - a set of network-related configurations used for network resource placement</p>
<p>These abstractions are related to the regions within the cloud accounts and their capabilities. They utilize the various
underlying resources which are automatically collected and organized into "fabrics" by vRA. As such, they contain
information about resources in the various connected regions and for the purpose of this project are collectively called 
<strong>regional content</strong>.</p>
<p>Exporting (pulling) and importing (pushing) of regional content is achieved using a mapping definition specified in the
content manifest (content.yaml): <code>region-mappping</code>. It contains a set of mapping criteria used for exporting and
importing of content. The vRA-NG package manager handles the <code>export-tag</code> and <code>import-tags</code> entries of the
<code>cloud-account-tags</code> section of <code>region-mapping</code>.</p>
<h3 id="export-regional-content">Export Regional Content</h3>
<p>When exporting regional content defined in the respective content categories - <code>image-mapping</code>, <code>flavor-mapping</code>, 
<code>storage-profile</code>, etc., the vRA-NG package manager takes into account the tag that is defined in the <code>export-tag</code>
entry and exports content that is related to a cloud account(s) containing this tag. The content is stored in a
directory within a unique regional directory bearing the name of the cloud account and the cloud zone id. The cloud
account and zone combination are persisted for reference to the originating environment. </p>
<h3 id="import-regional-content">Import Regional Content</h3>
<p>The vRA-NG package manager uses the <code>import-tags</code> entry from the content manifest (content.yaml) to (re)create regional
content targeting cloud accounts that contain one or more of the import tags. The content is taken from all of the
regional folders and regardless of its origin, it is imported to the target environment based on the <code>import-tags</code>, i.e. 
related to cloud accounts possessing one or more of the import tags list.</p>
<h2 id="release">Release</h2>
<p>To release a specific content uploaded on a live server, you can use the <code>vrealize:release</code> command:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>clean<span class="w"> </span>package<span class="w"> </span>vrealize:release<span class="w"> </span>-Pcorp-env<span class="w"> </span>-Dvrang.contentType<span class="o">=</span>blueprint<span class="w"> </span>-Dvrang.contentNames<span class="o">=</span>testBlueprint<span class="w"> </span>-Dvrang.version<span class="o">=</span><span class="m">1</span><span class="w"> </span>-DreleaseIfNotUpdated<span class="o">=</span><span class="nb">false</span>
</code></pre></div>
<p>Only parameter vrang.version is required. 
Defalut behavior for other parameters:
    - vrang.contentType: default value "all". Releases all supported content types.
    - vrang.contentNames: default value "[]". Releases all content of given types on server.
    - vrang.releaseIfNotUpdated: default value "false". Skips content if there are no updates since latest version.</p>
<p><strong>Note</strong>: Nothing will be released if any of the content already has the given version existing.</p>
<h2 id="authentication">Authentication</h2>
<p>Use one of the two possible authentication mechanisms: refresh token or basic auth. When executing command use a profile that has either username/password set or refreshToken parameter.</p>
<div class="highlight"><pre><span></span><code>vra-ng:pull<span class="w"> </span>-Dvrang.host<span class="o">=</span>api.mgmt.cloud.vmware.com<span class="w"> </span>-Dvrang.csp.host<span class="o">=</span>console.cloud.vmware.com<span class="w"> </span>-Dvra.port<span class="o">=</span><span class="m">443</span><span class="w"> </span>-Dvrang.project.id<span class="o">={</span>project+id<span class="o">}</span><span class="w"> </span>-Dvrang.refresh.token<span class="o">={</span>refresh+token<span class="o">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>vra-ng:pull<span class="w"> </span>-Dvrang.host<span class="o">=</span>api.mgmt.cloud.vmware.com<span class="w"> </span>-Dvrang.csp.host<span class="o">=</span>console.cloud.vmware.com<span class="w"> </span>-Dvra.port<span class="o">=</span><span class="m">443</span><span class="w"> </span>-Dvrang.project.id<span class="o">={</span>project+id<span class="o">}</span><span class="w"> </span>-Dvrang.username<span class="o">={</span>username<span class="o">}</span><span class="w"> </span>-Dvrang.password<span class="o">={</span>password<span class="o">}</span>
</code></pre></div>
<p><strong>Note</strong>: Basic authentication is performed against an endpoint that communicates with vIDM as authentication backend.</p>
<p><strong>Note</strong>: Username parameter accepts usernames in the form of <code>&lt;username&gt;</code> as well as <code>&lt;username&gt;@&lt;domain&gt;</code>. When no <code>&lt;domain&gt;</code> is provided, the authentication automatically assumes <strong>System Domain</strong>. Otherwise the provided domain will be used. 
E.g. <code>administrator@corp.local</code> will perform authentication against the <code>corp.local</code> domain, whereas <code>configurationadmin</code> will perfom authentication agains <code>System Domain</code>.</p>
<h2 id="include-dependencies">Include Dependencies</h2>
<p>By default, the <code>vrealize:push</code> goal will deploy all dependencies of the current project to the target 
environment. You can control that by the <code>-DincludeDependencies</code> flag. The value is <code>true</code> by default, so you
skip the dependencies by executing the following:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>package<span class="w"> </span>vrealize:push<span class="w"> </span>-Pcorp-env<span class="w"> </span>-DincludeDependencies<span class="o">=</span><span class="nb">false</span>
</code></pre></div>
<p>Note that dependencies will not be deployed if the server has a newer version of the same package deployed. For example,
if the current project depends on <code>com.vmware.pscoe.example-2.4.0</code> and on the server there is <code>com.vmware.pscoe.example-2.4.2</code>,
the package will not be downgraded. You can force that by adding the <code>`-Dvra.importOldVersions</code> flag:
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>package<span class="w"> </span>vrealize:push<span class="w"> </span>-Pcorp-env<span class="w"> </span>-Dvra.importOldVersions
</code></pre></div>
The command above will forcefully deploy the exact versions of the dependent packages, downgrading anything it finds on the server.</p>
<h3 id="ignore-certificate-errors-not-recommended">Ignore Certificate Errors (Not recommended)</h3>
<blockquote>
<p>This section describes how to bypass a security feature in development/testing environment. <strong>Do not use those flags when targeting production servers.</strong> Instead, make sure the certificates have the correct CN, use FQDN to access the servers and add the certificates to Java's key store (i.e. cacerts).</p>
</blockquote>
<p>You can ignore certificate errors, i.e. the certificate is not trusted, by adding the flag <code>-Dvrealize.ssl.ignore.certificate</code>:</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>package<span class="w"> </span>vrealize:push<span class="w"> </span>-Pcorp-env<span class="w"> </span>-Dvrealize.ssl.ignore.certificate
</code></pre></div>
<p>You can ignore certificate hostname error, i.e. the CN does not match the actual hostname, by adding the flag <code>-Dvrealize.ssl.ignore.certificate</code>:
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>package<span class="w"> </span>vrealize:push<span class="w"> </span>-Pcorp-env<span class="w"> </span>-Dvrealize.ssl.ignore.hostname
</code></pre></div></p>
<p>You can also combine the two options above.</p>
<p>The other option is to set the flags in your Maven's settings.xml file for a specific <strong>development</strong> environment.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;profile&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>corp-dev<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;properties&gt;</span>
<span class="w">        </span><span class="cm">&lt;!--vRO Connection--&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.host&gt;</span>10.29.26.18<span class="nt">&lt;/vro.host&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.port&gt;</span>8281<span class="nt">&lt;/vro.port&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.username&gt;</span>administrator@vsphere.local<span class="nt">&lt;/vro.username&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.password&gt;</span>*****<span class="nt">&lt;/vro.password&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.auth&gt;</span>vra<span class="nt">&lt;/vro.auth&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.tenant&gt;</span>vsphere.local<span class="nt">&lt;/vro.tenant&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.authHost&gt;</span>{auth_host}<span class="nt">&lt;/vro.authHost&gt;</span>
<span class="w">        </span><span class="nt">&lt;vro.authPort&gt;</span>{auth_port}<span class="nt">&lt;/vro.authPort&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&lt;vro.refresh.token&gt;</span>{refresh_token}<span class="nt">&lt;/vro.refresh.token&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&lt;vro.proxy&gt;</span>http://proxy.host:80<span class="nt">&lt;/vro.proxy&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrealize.ssl.ignore.hostname&gt;</span>true<span class="nt">&lt;/vrealize.ssl.ignore.hostname&gt;</span>
<span class="w">        </span><span class="nt">&lt;vrealize.ssl.ignore.certificate&gt;</span>true<span class="nt">&lt;/vrealize.ssl.ignore.certificate&gt;</span>
<span class="w">    </span><span class="nt">&lt;/properties&gt;</span>
<span class="nt">&lt;/profile&gt;</span>
</code></pre></div>
<h2 id="bundling">Bundling</h2>
<p>To produce a bundle.zip containing the package and all its dependencies, use:</p>
<p><div class="highlight"><pre><span></span><code>$ mvn clean deploy -Pbundle
</code></pre></div>
Refer to <a href="setup-workstation-maven.md">Build Tools for VMware Aria</a>/Bundling for more information.</p>
<h2 id="clean-up">Clean Up</h2>
<p>Clean up is currently not supported</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<ul>
<li>If Maven error does not contain enough information rerun it with <em>-X</em> debug flag.</li>
</ul>
<p><div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>-X<span class="w"> </span>&lt;rest<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>command&gt;
</code></pre></div>
* Sometimes Maven might cache old artifacts. Force fetching new artifacts with <em>-U</em>. Alternatively remove <em><home>/.m2/repository</em> folder.</p>
<div class="highlight"><pre><span></span><code>mvn<span class="w"> </span>-U<span class="w"> </span>&lt;rest<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>command&gt;
</code></pre></div>
<h2 id="known-issues">Known issues:</h2>
<ul>
<li>There is an issue with svg icons, they will not be downloaded/uploaded (IAC-482).</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "toc.follow", "search.highlight", "search.suggest", "search.share", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.efa0ade1.min.js"></script>
      
    
  </body>
</html>